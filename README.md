You can find the mutex lock and semaphore code in Meta.cpp starting at line 647
Also my program runs perfectly fine on the install ubuntu on the ECC machines but 
not no machine and the solution for it to run on nomachine requires me to upgrade
it because I guess I need to upgrade it in order for it to look at the new C++
library. 